@model WebApplication10.ViewModels.AdminProductsFormVM

<div class="edit-product-container">
    <h4 class="form-title">Cập nhật sản phẩm</h4>

    @using (Html.BeginForm(
        "Edit",
        "AdminProducts",
        FormMethod.Post,
        new
        {
            id = "editProductForm",
            @class = "ajax-form",
            data_reload_target = "/AdminProducts/ProductListPartial"
        }))
    {
        @Html.AntiForgeryToken()
        @Html.HiddenFor(m => m.ProductId)

        @Html.ValidationSummary(true, "", new { @class = "text-danger mb-3" })

        <div class="mb-3">
            @Html.LabelFor(m => m.ProductName)
            @Html.TextBoxFor(m => m.ProductName,
                new { @class = "form-control" })
            @Html.ValidationMessageFor(m => m.ProductName,
                "", new { @class = "text-danger small" })
        </div>

        <div class="mb-3">
            @Html.LabelFor(m => m.CategoryId)
            @Html.DropDownListFor(
                m => m.CategoryId,
                new SelectList(
                    ViewBag.Categories,
                    "CategoryId",
                    "CategoryName",
                    Model.CategoryId
                ),
                "-- Chọn danh mục --",
                new { @class = "form-select" }
            )
            @Html.ValidationMessageFor(m => m.CategoryId,
                "", new { @class = "text-danger small" })
        </div>

        <div class="mb-3">
            @Html.LabelFor(m => m.BrandId)
            @Html.DropDownListFor(
                m => m.BrandId,
                new SelectList(
                    ViewBag.Brands,
                    "BrandId",
                    "BrandName",
                    Model.BrandId
                ),
                "-- Chọn thương hiệu --",
                new { @class = "form-select" }
            )
        </div>

        <div class="row mb-3">
            <div class="col">
                @Html.LabelFor(m => m.Price)
                @Html.TextBoxFor(m => m.Price,
                    new
                    {
                        @class = "form-control",
                        type = "number",
                        step = "0.01",
                        min = "0"
                    })
                @Html.ValidationMessageFor(m => m.Price,
                    "", new { @class = "text-danger small" })
            </div>

            <div class="col">
                @Html.LabelFor(m => m.Quantity)
                @Html.TextBoxFor(m => m.Quantity,
                    new
                    {
                        @class = "form-control",
                        type = "number",
                        min = "0"
                    })
            </div>
        </div>

        <div class="mb-3">
            @Html.LabelFor(m => m.Description)
            @Html.TextAreaFor(
                m => m.Description,
                new
                {
                    @class = "form-control ckeditor",
                    rows = 5,
                    id = "Description"
                })
            @Html.ValidationMessageFor(m => m.Description,
                "", new { @class = "text-danger small" })
        </div>

        <div class="mb-3">
            @Html.LabelFor(m => m.Status)
            @Html.DropDownListFor(
                m => m.Status,
                new SelectList(
                    new[] { "Available", "Inactive" },
                    Model.Status
                ),
                new { @class = "form-select" }
            )
        </div>

        <div class="d-flex justify-content-between mt-3">
            <button type="button"
                    class="btn btn-secondary"
                    id="btnBackToList">
                <i class="bi bi-arrow-left"></i> Quay lại
            </button>

            <button type="submit"
                    class="btn btn-primary">
                <i class="bi bi-pencil-fill"></i> Cập nhật
            </button>
        </div>
    }
</div>