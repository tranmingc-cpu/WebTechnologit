@model IEnumerable<WebApplication10.ViewModels.ProductListVM>

<div id="products-partial">
    <div class="table-responsive">
        <table class="table table-striped table-dark table-hover align-middle">
            <thead class="table-dark">
                <tr>
                    <th>ID</th>
                    <th>Tên sản phẩm</th>
                    <th>Danh mục</th>
                    <th>Thương hiệu</th>
                    <th>Giá</th>
                    <th>Số lượng</th>
                    <th>Trạng thái</th>
                    <th class="text-center">Hành động</th>
                </tr>
            </thead>

            <tbody>
                @foreach (var item in Model)
                {
                    <tr>
                        <td>@item.ProductId</td>
                        <td>@item.ProductName</td>
                        <td>@item.CategoryName</td>
                        <td>@item.BrandName</td>
                        <td>@item.Price.ToString("N0") ₫</td>
                        <td>@item.Quantity</td>
                        <td>
                            <span class="badge @(item.Status == "Available" ? "bg-success" : "bg-secondary")">
                                @item.Status
                            </span>
                        </td>
                        <td class="text-center">
                            <div class="user-table-actions">

                                <a href="/AdminProducts/ProductDetails/@item.ProductId"
                                   class="btn btn-sm btn-info"
                                   data-admin-partial="true">
                                    <i class="bi bi-eye-fill"></i> View
                                </a>

                                <a href="/AdminProducts/Edit/@item.ProductId"
                                   class="btn btn-sm btn-warning"
                                   data-admin-partial="true">
                                    <i class="bi bi-pencil-fill"></i> Edit
                                </a>

                                <a href="/AdminProducts/Delete/@item.ProductId"
                                   class="btn btn-sm btn-danger"
                                   data-admin-partial="true">
                                    <i class="bi bi-trash-fill"></i> Delete
                                </a>

                                <a href="/AdminProducts/TestSendNewProductMail?productId=@item.ProductId"
                                   class="btn btn-sm btn-warning"
                                   data-admin-partial="true">
                                    <i class="bi bi-trash-fill"></i> Email
                                </a>

                                <a href="/AdminProducts/TestSendMailNow?productId=@item.ProductId"
                                   class="btn btn-sm btn-dark"
                                   data-admin-partial="true"
                                   onclick="return confirm('Gửi mail NGAY cho toàn bộ subscriber?')">
                                    <i class="bi bi-trash-fill"></i> Send
                                </a>

                            </div>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div>