@{
    var actions = ViewBag.AdminActions as WebApplication10.ViewModels.AdminActionsViewModel;
}

@{
    var actionsModel = ViewBag.ActionsModel as WebApplication10.ViewModels.AdminActionsViewModel;
    if (actionsModel == null)
    {
        actionsModel = new WebApplication10.ViewModels.AdminActionsViewModel();
    }


    string currentController = ViewContext.RouteData.Values["controller"]?.ToString();
    string currentAction = ViewContext.RouteData.Values["action"]?.ToString();

    Func<string, string, string> isActive = (controller, action) =>
    {
        return (currentController == controller && (action == null || currentAction == action)) ? "active-link" : "";
    };
}

<div class="admin-actions">

    <h3 class="section-title">⚙️ Manage</h3>
    <div class="actions-grid">
        <a href="/Users/Index" class="action-card" data-admin-partial="true">
            <div class="action-icon">👥</div>
            <div class="action-text">Manage Users</div>
        </a>

   <a href="@Url.Action("Index","AdminProducts")"
        data-admin-partial="true"
        class="action-card @isActive("AdminProducts","Index")">
         <div class="action-icon">📦</div>
         <div class="action-text">Manage Products</div>
     </a>

        <a href="@Url.Action("Index","Orders")"
           data-admin-partial="true"
           class="action-card @isActive("Orders","Index")">
            <div class="action-icon">🧾</div>
            <div class="action-text">Manage Orders</div>
        </a>
        <div class="action-card disabled-card">
            <div class="action-icon">💬</div>
            <div class="action-text">Manage Reviews (Coming Soon)</div>
        </div>
        <!--demoo-->

        <a href="@Url.Action("Index","AdminContacts")"
           class="action-card @isActive("AdminContacts","Index")"
           data-admin-partial="true">

            <div class="action-icon">📩</div>
            <div class="action-text">Contact Messages</div>
        </a>
    </div>

    <h3 class="section-title">✏️ Edit Pages</h3>
    <div class="actions-grid">
        @if (actionsModel.About != null)
        {
            <a href="@Url.Action("Edit","Pages", new { id=actionsModel.About.InfoPageId })"
               class="action-card @isActive("Pages","Edit")"
               data-admin-partial="true">

                <div class="action-icon">📄</div>
                <div class="action-text">About Page</div>

            </a>
            }
                @if (actionsModel.About != null)
                {
                    <a href="@Url.Action("Edit","Pages", new { id=actionsModel.About.InfoPageId })"
                       class="action-card @isActive("Pages","Edit")"
                       data-admin-partial="true">

                        <div class="action-icon">📄</div>
                        <div class="action-text">About Page</div>
                    </a>
                }
                @if (actionsModel.Contact != null)
                {
                    <a href="@Url.Action("Edit","Pages", new { id=actionsModel.Contact.InfoPageId })"
                       class="action-card @isActive("Pages","Edit")"
                       data-admin-partial="true">

                        <div class="action-icon">📄</div>
                        <div class="action-text">Contact Page</div>
                    </a>
                }
                @if (actionsModel.Warranty != null)
                {
                    <a href="@Url.Action("Edit","Pages", new { id=actionsModel.Warranty.InfoPageId })"
                       class="action-card @isActive("Pages","Edit")"
                       data-admin-partial="true">

                        <div class="action-icon">📄</div>
                        <div class="action-text">Warranty Page</div>
                    </a>
                }
                @if (actionsModel.News != null)
                {
                    <a href="@Url.Action("Edit","Pages", new { id=actionsModel.News.InfoPageId })"
                       class="action-card @isActive("Pages","Edit")"
                       data-admin-partial="true">

                        <div class="action-icon">📰</div>
                        <div class="action-text">News Page</div>
                    </a>
                }

                @if (actionsModel.Careers != null)
                {
                    <a href="@Url.Action("Edit","Pages", new { id=actionsModel.Careers.InfoPageId })"
                       class="action-card @isActive("Pages","Edit")"
                       data-admin-partial="true">

                        <div class="action-icon">💼</div>
                        <div class="action-text">Careers Page</div>
                    </a>
                }
                @if (actionsModel.Returns != null)
                {
                    <a href="@Url.Action("Edit","Pages", new { id=actionsModel.Returns.InfoPageId })"
                       class="action-card @isActive("Pages","Edit")"
                       data-admin-partial="true">

                        <div class="action-icon">↩️</div>
                        <div class="action-text">Returns Page</div>
                    </a>
                }
                @if (actionsModel.Shipping != null)
                {
                    <a href="@Url.Action("Edit","Pages", new { id=actionsModel.Shipping.InfoPageId })"
                       class="action-card @isActive("Pages","Edit")"
                       data-admin-partial="true">

                        <div class="action-icon">🚚</div>
                        <div class="action-text">Shipping Page</div>
                    </a>
                }
                @if (actionsModel.Payment != null)
                {
                    <a href="@Url.Action("Edit","Pages", new { id=actionsModel.Payment.InfoPageId })"
                       class="action-card @isActive("Pages","Edit")"
                       data-admin-partial="true">

                        <div class="action-icon">💳</div>
                        <div class="action-text">Payment Page</div>
                    </a>
                }

                @foreach (var page in actionsModel.OtherPages)
                {
                    <a href="@Url.Action("Edit","Pages", new { id = page.InfoPageId })"
                       class="action-card @isActive("Pages","Edit")"
                       data-admin-partial="true">

                        <div class="action-icon">📄</div>
                        <div class="action-text">@page.Title</div>
                    </a>
                }
            </div>

            <div class="logout-wrapper">
                <a href="@Url.Action("Logout","Account")" class="logout-link">
                    <div class="action-icon">🚪</div>
                    <div class="action-text">Logout</div>
                </a>
            </div>
</div>