@model List<WebApplication10.Models.Products>

@{
    ViewBag.Title = "Sản phẩm";
}

<div class="page-header">
    @if (!string.IsNullOrEmpty(ViewBag.Keyword as string))
    {
        <h1>
            Kết quả tìm kiếm cho:
            <span class="highlight">"@ViewBag.Keyword"</span>
        </h1>
        <p class="sub-text">
            Tìm thấy @Model.Count sản phẩm phù hợp
        </p>
    }
    else if (ViewBag.CurrentCategoryId != null)
    {
        <h1>@ViewBag.CurrentCategoryName</h1>
        <p class="sub-text">
            Danh sách sản phẩm theo danh mục
        </p>
    }
    else
    {
        <h1>Tất cả sản phẩm</h1>
        <p class="sub-text">
            Khám phá toàn bộ sản phẩm đang kinh doanh
        </p>
    }
</div>

<section class="category-filter">
    <a href="@Url.Action("Index", "Products")"
       class="category @(ViewBag.CurrentCategoryId == null ? "active" : "")">
        Tất cả
    </a>

    @foreach (var c in (ViewBag.Categories as List<WebApplication10.Models.Categories>))
    {
        <a class="category @(ViewBag.CurrentCategoryId == c.CategoryId ? "active" : "")"
           href="@Url.Action("Index", "Products", new { categoryId = c.CategoryId })">
            @c.CategoryName
        </a>
    }
</section>

<section class="products">
    <div class="product-grid">
        @if (Model != null && Model.Any())
        {
            foreach (var p in Model)
            {
                @Html.Partial("_ProductCard", p)
            }
        }
        else
        {
            <div class="empty-state">
                <i class="fa fa-box-open"></i>
                <p>Không tìm thấy sản phẩm phù hợp.</p>
            </div>
        }
    </div>
</section>
