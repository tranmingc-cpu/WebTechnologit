@model WebApplication10.Models.Orders
@{
    Layout = null;
}

<div class="users-page">

    <!-- HEADER -->
    <div class="users-header">
        <div class="users-title">
            <h3>Đơn hàng #@Model.OrderId</h3>
            <span class="users-subtitle">
                Khách hàng: @Model.Users.FullName
            </span>
        </div>

        <div class="users-actions">
            <a href="javascript:void(0)"
               class="btn btn-primary btn-create-user"
               onclick="backToOrders()">
                <i class="fa-solid fa-arrow-left"></i>
                Quay lại
            </a>
        </div>
    </div>

    <!-- ORDER INFO -->
    <div class="user-card">
        <div class="user-info">
            <span><strong>Trạng thái:</strong> @Model.Status</span>
            <span>
                <strong>Ngày đặt:</strong>
                @Convert.ToDateTime(Model.OrderDate).ToString("dd/MM/yyyy HH:mm")
            </span>
        </div>
    </div>

    <!-- ORDER DETAILS TABLE -->
    <div class="table-responsive mt-3">
        <table class="table table-striped table-dark table-hover align-middle">
            <thead class="table-dark">
                <tr>
                    <th>Sản phẩm</th>
                    <th>Đơn giá</th>
                    <th>Số lượng</th>
                    <th>Tổng</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model.OrderDetails)
                {
                    <tr>
                        <td>@item.Products.ProductName</td>
                        <td>@item.UnitPrice.ToString("N0") đ</td>
                        <td>@item.Quantity</td>
                        <td>@((item.UnitPrice * item.Quantity).ToString("N0")) đ</td>
                    </tr>
                }
            </tbody>
        </table>
    </div>

    <!-- TOTAL -->
    <div class="user-card mt-3">
        <div class="user-info">
            <span style="font-size:16px;">
                <strong>Tổng thanh toán:</strong>
                <span style="color:#ff5c5c;font-weight:700;">
                    @Convert.ToDecimal(Model.TotalAmount).ToString("N0")
                </span>
            </span>
        </div>
    </div>

</div>